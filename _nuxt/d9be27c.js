(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{167:function(t,e,o){"use strict";e.a=function(t){var e=t.env,o=t.isDev,r=t.$config;e.baseURL=o?"http://localhost:8080":"https://chat-nuxtjs.herokuapp.com",r.ghRedirectUrl=o?"http://localhost:3000/chat/login":"https://udaanilo.github.io/chat/login"}},168:function(t,e,o){"use strict";e.a=function(t){var e=t.$axios,o=t.env;e.defaults.baseURL=o.baseURL}},169:function(t,e,o){"use strict";var r,n=o(0),c=o(252),l=o(251),f=localStorage.getItem("token");try{r=JSON.parse(f)}catch(t){r=null}e.a=function(t){var e=t.env,o=Object(l.io)(e.baseURL,{autoConnect:!!r,reconnection:!0});o.auth={token:r},n.a.use(c.a,o)}},216:function(t,e,o){var content=o(294);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(32).default)("7388ab72",content,!0,{sourceMap:!1})},218:function(t,e,o){var content=o(300);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(32).default)("56b15182",content,!0,{sourceMap:!1})},219:function(t,e,o){var content=o(302);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(32).default)("3b8d156a",content,!0,{sourceMap:!1})},254:function(t,e,o){"use strict";var r={data:function(){return{}}},n=(o(299),o(57)),c=o(67),l=o.n(c),f=o(384),d=o(386),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{dark:""}},[o("v-main",[o("Alert"),t._v(" "),o("Nuxt")],1)],1)}),[],!1,null,null,null);e.a=component.exports;l()(component,{Alert:o(379).default}),l()(component,{VApp:f.a,VMain:d.a})},260:function(t,e,o){o(261),t.exports=o(262)},282:function(t,e,o){"use strict";o.r(e);o(21);e.default=function(t){var e=t.redirect,o=t.$axios,r=t.store,n=localStorage.getItem("token");if(!n)return e("/login");try{n=JSON.parse(n)}catch(t){return e("/login")}return o.post("/user/validate",{token:n}).then((function(t){var c=t.data;if(!c)return localStorage.removeItem("token"),e("/login");o.setToken(n,"bearer"),r.commit("user/set",{name:c.name,email:c.email,img:c.img})})).catch((function(t){localStorage.removeItem("token"),console.error(t),e("/login")}))}},283:function(t,e,o){"use strict";o.r(e);e.default=function(t){var e=t.$axios,o=t.store;e.onError((function(t){var e,r;if(!(null===(e=t.response)||void 0===e?void 0:e.data.error))return console.error(t.message,t);o.dispatch("alert/set",{type:"error",message:null===(r=t.response)||void 0===r?void 0:r.data.error})}))}},293:function(t,e,o){"use strict";o(216)},294:function(t,e,o){var r=o(31)(!1);r.push([t.i,"h1[data-v-bfedb7fe]{font-size:20px}",""]),t.exports=r},299:function(t,e,o){"use strict";o(218)},300:function(t,e,o){var r=o(31)(!1);r.push([t.i,"*{box-sizing:border-box;margin:0;padding:0;text-decoration:none;border:0}body{width:100%;height:100vh}::-webkit-scrollbar-track{background-color:#131313}::-webkit-scrollbar{width:6px;background:#f4f4f4}::-webkit-scrollbar-thumb{background:#414141}",""]),t.exports=r},301:function(t,e,o){"use strict";o(219)},302:function(t,e,o){var r=o(31)(!1);r.push([t.i,".alert{width:100%;z-index:10;position:fixed}",""]),t.exports=r},334:function(t,e,o){"use strict";o.r(e),o.d(e,"state",(function(){return r})),o.d(e,"mutations",(function(){return n})),o.d(e,"actions",(function(){return c}));o(56);var r=function(){return{show:!1,type:"info",message:"Alerta",time:5,dismissable:!0,color:"info"}},n={set:function(t,e){t.show=!0,t.type=e.type||t.type,t.message=e.message||t.message,t.time=e.time||t.time,t.dismissable="boolean"!=typeof e.dismissable||e.dismissable,t.color=e.color||t.color},hide:function(t){t.show=!1}},c={set:function(t,e){var o=t.commit;t.state.show||(e.type&&"error"==e.type&&(e.color="error"),o("set",e),e.time!=1/0&&setTimeout((function(){return o("hide")}),1e3*(e.time||5)))}}},335:function(t,e,o){"use strict";o.r(e),o.d(e,"state",(function(){return r})),o.d(e,"mutations",(function(){return n}));var r=function(){return{user:{},x:"",y:"",show:!1}},n={show:function(t,data){t.user=data.user,t.x=data.x,t.y=data.y,t.show=!0},hide:function(t){t.show=!1}}},336:function(t,e,o){"use strict";o.r(e),o.d(e,"state",(function(){return r})),o.d(e,"mutations",(function(){return n})),o.d(e,"actions",(function(){return c}));o(21),o(10),o(33),o(37),o(175),o(25),o(129);var r=function(){return{name:"",email:"",img:"",loading:!1}},n={set:function(t,e){t.name=e.name,t.email=e.email,t.img=e.img},clear:function(t){t.name="",t.email="",t.img=""},loading:function(t,e){t.loading=e}},c={signin:function(t,e){var o=t.commit;o("loading",!0);var r,n="/login";if(e.provider&&"github"==e.provider.toLowerCase()){var c=new URLSearchParams(window.location.search).get("code");r=null,n+="/github?code=".concat(c)}else r={email:e.email,password:e.password};this.$axios.post(n,r).then((function(t){var e=t.data,r=e.user,n=e.token;o("set",{name:r.name,email:r.email,img:r.img}),o("loading",!1),localStorage.setItem("token",JSON.stringify(n)),window.location.href="/chat"}))},logout:function(t){var e=t.commit;localStorage.removeItem("token"),e("user/clear"),window.location.href="/chat/login"}}},379:function(t,e,o){"use strict";o.r(e);var r={name:"Alert"},n=(o(301),o(57)),c=o(67),l=o.n(c),f=o(385),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"alert my-5 px-2 d-flex justify-center"},[o("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.alert.show,expression:"$store.state.alert.show"}],attrs:{border:"left","max-width":"800",color:t.$store.state.alert.color,type:t.$store.state.alert.type,dismissible:t.$store.state.alert.dismissable,transition:"slide-y-transition"}},[t._v("\n    "+t._s(t.$store.state.alert.message)+"\n  ")])],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VAlert:f.a})},64:function(t,e,o){"use strict";var r={layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},n=(o(293),o(57)),c=o(67),l=o.n(c),f=o(384),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{dark:""}},[404===t.error.statusCode?o("h1",[t._v("\n    "+t._s(t.pageNotFound)+"\n  ")]):o("h1",[t._v("\n    "+t._s(t.otherError)+"\n  ")]),t._v(" "),o("NuxtLink",{attrs:{to:"/"}},[t._v("\n    Home page\n  ")])],1)}),[],!1,null,"bfedb7fe",null);e.a=component.exports;l()(component,{VApp:f.a})}},[[260,14,4,15]]]);